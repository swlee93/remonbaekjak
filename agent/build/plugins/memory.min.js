!function(){var t,c,n,o,a,i,s,d,O={};BOOMR=window.BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(!BOOMR.plugins.Memory){d={done:function(){if(t){BOOMR.removeVar("dom.res");r(!0,function(){var e,r,t={};if(O&&"function"==typeof O.getEntriesByType&&(e=O.getEntriesByType("resource"))&&e.length){BOOMR.addVar("dom.res",e.length);r=BOOMR.window.document.createElement("a");[].forEach.call(e,function(e){r.href=e.name;t[r.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(t).length)}},"resources");n&&BOOMR.addVar({"mem.total":n.totalJSHeapSize,"mem.limit":n.jsHeapSizeLimit,"mem.used":n.usedJSHeapSize});r(i&&s,function(){BOOMR.addVar({"mem.lsln":i.length,"mem.ssln":s.length});window.JSON&&"function"==typeof JSON.stringify&&BOOMR.addVar({"mem.lssz":JSON.stringify(i).length,"mem.sssz":JSON.stringify(s).length})},"localStorage");r(o,function(){BOOMR.addVar({"scr.xy":o.width+"x"+o.height,"scr.bpp":o.colorDepth+"/"+(o.pixelDepth||"")});o.orientation&&BOOMR.addVar("scr.orn",o.orientation.angle+"/"+o.orientation.type);1<t.devicePixelRatio&&BOOMR.addVar("scr.dpx",t.devicePixelRatio);var e=BOOMR.utils.scroll();(e.x||e.y)&&BOOMR.addVar("scr.sxy",e.x+"x"+e.y)},"screen");r(a,function(){a.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",a.hardwareConcurrency);a.maxTouchPoints&&BOOMR.addVar("scr.mtp",a.maxTouchPoints);a.connection&&a.connection.hasOwnProperty("saveData")&&BOOMR.addVar("net.sd",a.connection.saveData?1:0)},"navigator");r(!0,function(){var r;BOOMR.addVar({"dom.ln":e("*"),"dom.sz":c.documentElement.innerHTML.length,"dom.ck":c.cookie.length});r={};BOOMR.addVar(e("img",["dom.img","dom.img.ext","dom.img.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|data:|#)/)},function(e){return!(r[e.currentSrc||e.src]=r.hasOwnProperty(e.currentSrc||e.src))}));r={};BOOMR.addVar(e("script",["dom.script","dom.script.ext","dom.script.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(r[e.src]=r.hasOwnProperty(e.src))}));r={};BOOMR.addVar(e("iframe",["dom.iframe","dom.iframe.ext","dom.iframe.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(r[e.src]=r.hasOwnProperty(e.src))}));r={};BOOMR.addVar(e("link",["dom.link","dom.link.css","dom.link.css.uniq"],function(e){return e.rel&&"stylesheet"===e.rel.toLowerCase()&&e.href&&!e.href.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(r[e.href]=r.hasOwnProperty(e.href))}))},"dom")}}};BOOMR.plugins.Memory={init:function(){var e;try{t=BOOMR.window;c=t.document;O=BOOMR.getPerformance();e=t.console;o=t.screen;a=t.navigator;try{i=t.localStorage;s=t.sessionStorage}catch(e){}if(a&&a.battery)a.battery;else if(a&&"function"==typeof a.getBattery){var r=a.getBattery();r&&"function"==typeof r.then?r.then(function(e){0}):"object"==typeof r&&r.hasOwnProperty("level")&&0}}catch(e){BOOMR.addError(e,"Memory.init")}n=O&&O.memory?O.memory:e&&e.memory?e.memory:null;if(d.initialized)return this;d.initialized=!0;BOOMR.subscribe("before_beacon",d.done,null,d);return this},is_complete:function(){return!0}}}function e(r,e){var t,n,o,a,i;try{n=(t=c.getElementsByTagName(r)).length;if(e&&e.length){(o={})[e[0]]=n;for(a=2;0<n&&a<arguments.length&&a-1<e.length;a++)if("function"==typeof(i=arguments[a]))try{if((t=BOOMR.utils.arrayFilter(t,i)).length!==n){n=t.length;o[e[a-1]]=n}}catch(e){BOOMR.addError(e,"Memory.nodeList."+r+".filter["+(a-2)+"]")}}return o||n}catch(e){BOOMR.addError(e,"Memory.nodeList."+r);return 0}}function r(e,r,t){if(e)try{r()}catch(e){BOOMR.addError(e,"Memory.done."+t)}}}();
//# sourceMappingURL=memory.min.js.map