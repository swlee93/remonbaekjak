!function(){BOOMR=window.BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(!BOOMR.plugins.PaintTiming){var r={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},o={initialized:!1,complete:!1,supported:null,timingCache:{},timingHistory:{},observer:null,externalMetrics:{},done:function(e,t){var i,n;if(this.complete)return this;if("load"!==t&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((e=BOOMR.getPerformance())&&"function"==typeof e.getEntriesByType){if((i=e.getEntriesByType("paint"))&&i.length){BOOMR.info("This user agent supports PaintTiming","pt");for(n=0;n<i.length;n++){o.timingCache[i[n].name]=i[n].startTime;r[i[n].name]&&BOOMR.addVar("pt."+r[i[n].name],Math.floor(i[n].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onObserver:function(e){e=e.getEntries();if(0!==e.length){var e=e[e.length-1],t=e.renderTime||e.loadTime;o.timingCache[e.entryType]=t;o.timingHistory[e.entryType]=o.timingHistory[e.entryType]||[];o.timingHistory[e.entryType].push(t);BOOMR.addVar("pt.lcp",Math.floor(t),!0);o.externalMetrics.lcp=function(){return Math.floor(t)}}}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){o.complete=!0;o.initialized=!0}if(!o.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);o.complete=!0}if(!o.initialized){BOOMR.subscribe("page_ready",o.done,"load",o);BOOMR.subscribe("xhr_load",o.done,"xhr",o);BOOMR.subscribe("before_unload",o.done,null,o);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint){o.observer=new BOOMR.window.PerformanceObserver(o.onObserver);o.observer.observe({type:"largest-contentful-paint",buffered:!0})}o.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return o.initialized&&this.is_supported()},is_supported:function(){if(null!==o.supported)return o.supported;var e=BOOMR.getPerformance();o.supported=e&&void 0!==window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return o.supported},getTimingFor:function(e){var t,i;if(o.timingCache[e])return o.timingCache[e];if(this.is_supported()){var n=BOOMR.getPerformance();if(n&&"function"==typeof n.getEntriesByType&&(t=n.getEntriesByType("paint"))&&t.length)for(i=0;i<t.length;i++)if(t[i].name===e){o.timingCache[e]=t[i].startTime;return o.timingCache[e]}}},getHistoryFor:function(e){return o.timingHistory[e]||[]},metrics:o.externalMetrics}}}();
//# sourceMappingURL=painttiming.min.js.map