type Query {
  getTasks: [Task]
  getLightHouseData(taskId: ID, subtype: String, stime: Float, etime: Float, includeColumns: String): LightHouseData
  getReportInfos(taskType: TaskType, taskId: ID, stime: Float, etime: Float, first: Int, after: Float): ReportInfoResponse
  getReportInfoByTimestamp(taskType: TaskType, timestamp: Float): LightHouseReportData
  getSettings: Settings
}

type Mutation {
  createTask(name: String!, description: String, type: TaskType): Task
  updateSettings(settingsInput: SettingsInput): Settings
}

type Subscription {
  createSprint: Sprint
  registObserver: Observer
}

type ReportInfoEdge {
  cursor: String
  node: LightHouseReportData
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean
}

type ReportInfoResponse {
  edges: [ReportInfoEdge]
  pageInfo: PageInfo
}

type LightHouseReportData {
  timestamp: Float
  data: JSON
}

extend type LightHouseReportData {
  task: Task
}

type LightHouseData {
  report: [LightHouseReportData]
  performance: [JSON]
}

type Task {
  id: ID!
  type: TaskType
  name: String!
  description: String!
  createdBy: String
  createdAt: DateTime!
}

type Settings {
  userId: String
  github_personal_access_token: String
  github_repositories: [String]
}
input SettingsInput {
  github_personal_access_token: String
  github_repositories: [String]
}
type Sprint {
  id: ID!
  name: String
  taskId: Int
  observers: [Observer]
  logs: [Log]
}

type Observer {
  id: ID!
  name: String
  description: String
  sprint: Sprint
  sprintId: Int
  logs: [Log]
}

type Log {
  id: ID!
  type: String
  level: String
  title: String
  message: String
  createdAt: DateTime
  sprint: Sprint
  sprintId: Int
  observer: Observer
  observerId: Int
}

input LinkOrderByInput {
  description: Sort
  url: Sort
  createdAt: Sort
}

enum Sort {
  asc
  desc
}

enum TaskType {
  LIGHTHOUSE
}

scalar DateTime
scalar JSON
scalar JSONObject
